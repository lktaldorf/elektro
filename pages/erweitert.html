<!-- Erweiterte Berechnungen Page -->
<div class="tab-container">
  <div class="tabs">
    <button class="tab active" onclick="switchTab(this, 'erdung')">Erdung</button>
    <button class="tab" onclick="switchTab(this, 'kurzschluss')">Kurzschluss</button>
    <button class="tab" onclick="switchTab(this, 'trafo')">Trafo</button>
    <button class="tab" onclick="switchTab(this, 'kabelgewicht')">Gewicht</button>
    <button class="tab" onclick="switchTab(this, 'trasse')">Trasse</button>
  </div>

<!-- Erdung -->
<div id="erdung" class="tab-content active">
  <h2>âš¡ Erdungswiderstand berechnen</h2>
  <p style="margin-bottom:20px;color:var(--gray-500)">Nach DIN VDE 0100-540</p>
  
  <div class="form-group">
    <label>Erdungsart</label>
    <select id="erdung-art">
      <option value="stab">Tiefenerder (Staberder)</option>
      <option value="ring">Ringerder / Fundamenterder</option>
      <option value="band">Banderder horizontal</option>
    </select>
  </div>
  
  <div class="form-group">
    <label>LÃ¤nge des Erders (m)</label>
    <input type="number" id="erdung-laenge" placeholder="z.B. 2.5" step="0.1">
  </div>
  
  <div class="form-group">
    <label>Durchmesser (mm)</label>
    <input type="number" id="erdung-durchmesser" value="20" placeholder="z.B. 20">
  </div>
  
  <div class="form-group">
    <label>Spezifischer Bodenwiderstand ÏE (Î©m)</label>
    <select id="erdung-boden">
      <option value="30">Moorerde, Sumpf (30 Î©m)</option>
      <option value="50">Torf, feuchter Humus (50 Î©m)</option>
      <option value="100" selected>Feuchter Lehm, Ton (100 Î©m)</option>
      <option value="200">Lehm, Ackerboden (200 Î©m)</option>
      <option value="500">Feuchter Sand (500 Î©m)</option>
      <option value="1000">Trockener Sand (1000 Î©m)</option>
      <option value="2000">Kies (2000 Î©m)</option>
      <option value="3000">Steiniger Boden (3000 Î©m)</option>
    </select>
  </div>
  
  <button class="btn" onclick="calculateEarthing()">Berechnen</button>
  <div id="erdung-result"></div>
  
  <div class="info-box">
    <h4>ğŸ“Œ Grenzwerte</h4>
    <ul>
      <li><strong>TN-System:</strong> RA â‰¤ 2 Î© empfohlen</li>
      <li><strong>TT-System:</strong> RA Ã— IÎ”n â‰¤ 50V</li>
      <li><strong>Blitzschutz:</strong> RA â‰¤ 10 Î©</li>
    </ul>
  </div>
</div>

<!-- Kurzschluss -->
<div id="kurzschluss" class="tab-content">
  <h2>âš¡ Kurzschlussstrom berechnen</h2>
  <p style="margin-bottom:20px;color:var(--gray-500)">FÃ¼r SelektivitÃ¤t und SchaltvermÃ¶gen</p>
  
  <div class="form-group">
    <label>Trafoleistung (kVA)</label>
    <input type="number" id="kss-trafo" placeholder="z.B. 630">
  </div>
  
  <div class="form-group">
    <label>Trafo Kurzschlussspannung uk (%)</label>
    <input type="number" id="kss-uk" value="4" step="0.1">
  </div>
  
  <div class="form-group">
    <label>SekundÃ¤rspannung (V)</label>
    <select id="kss-spannung">
      <option value="400" selected>400 V (Drehstrom)</option>
      <option value="230">230 V (Einphasig)</option>
    </select>
  </div>
  
  <div class="form-group">
    <label>LeitungslÃ¤nge vom Trafo (m)</label>
    <input type="number" id="kss-laenge" placeholder="z.B. 50">
  </div>
  
  <div class="form-group">
    <label>Leitungsquerschnitt (mmÂ²)</label>
    <select id="kss-querschnitt">
      <option value="16">16 mmÂ²</option>
      <option value="25">25 mmÂ²</option>
      <option value="35">35 mmÂ²</option>
      <option value="50" selected>50 mmÂ²</option>
      <option value="70">70 mmÂ²</option>
      <option value="95">95 mmÂ²</option>
      <option value="120">120 mmÂ²</option>
      <option value="150">150 mmÂ²</option>
      <option value="185">185 mmÂ²</option>
      <option value="240">240 mmÂ²</option>
    </select>
  </div>
  
  <div class="form-group">
    <label>Material</label>
    <select id="kss-material">
      <option value="cu">Kupfer</option>
      <option value="al">Aluminium</option>
    </select>
  </div>
  
  <button class="btn" onclick="calculateShortCircuit()">Berechnen</button>
  <div id="kss-result"></div>
</div>

<!-- Trafo -->
<div id="trafo" class="tab-content">
  <h2>ğŸ”„ Trafo dimensionieren</h2>
  
  <div class="form-group">
    <label>Gesamtleistung aller Verbraucher (kW)</label>
    <input type="number" id="trafo-leistung" placeholder="z.B. 450">
  </div>
  
  <div class="form-group">
    <label>Gleichzeitigkeitsfaktor g</label>
    <select id="trafo-gleich">
      <option value="0.5">0,5 (WohngebÃ¤ude groÃŸ)</option>
      <option value="0.6" selected>0,6 (WohngebÃ¤ude Standard)</option>
      <option value="0.7">0,7 (BÃ¼rogebÃ¤ude)</option>
      <option value="0.8">0,8 (Gewerbe gemischt)</option>
      <option value="0.9">0,9 (Industrie)</option>
      <option value="1.0">1,0 (Volllast / kritisch)</option>
    </select>
  </div>
  
  <div class="form-group">
    <label>Leistungsfaktor cos Ï†</label>
    <input type="number" id="trafo-cosphi" value="0.9" step="0.01" min="0.7" max="1">
  </div>
  
  <div class="form-group">
    <label>Reserve fÃ¼r Erweiterung (%)</label>
    <select id="trafo-reserve">
      <option value="0">0% (keine Reserve)</option>
      <option value="20" selected>20% (Standard)</option>
      <option value="30">30% (geplante Erweiterung)</option>
      <option value="50">50% (groÃŸe Reserve)</option>
    </select>
  </div>
  
  <button class="btn" onclick="calculateTransformer()">Berechnen</button>
  <div id="trafo-result"></div>
  
  <div class="info-box">
    <h4>ğŸ“Œ Standard-TrafogrÃ¶ÃŸen (kVA)</h4>
    <p>100, 160, 250, 315, 400, 500, 630, 800, 1000, 1250, 1600, 2000, 2500</p>
  </div>
</div>

<!-- Kabelgewicht -->
<div id="kabelgewicht" class="tab-content">
  <h2>âš–ï¸ Kabelgewicht berechnen</h2>
  
  <div class="form-group">
    <label>Kabeltyp</label>
    <select id="gewicht-typ">
      <option value="nym">NYM-J (Mantelleitung)</option>
      <option value="nyy">NYY-J (Erdkabel)</option>
    </select>
  </div>
  
  <div class="form-group">
    <label>Querschnitt (mmÂ²)</label>
    <select id="gewicht-querschnitt">
      <option value="1.5">1,5 mmÂ²</option>
      <option value="2.5" selected>2,5 mmÂ²</option>
      <option value="4">4 mmÂ²</option>
      <option value="6">6 mmÂ²</option>
      <option value="10">10 mmÂ²</option>
      <option value="16">16 mmÂ²</option>
      <option value="25">25 mmÂ²</option>
      <option value="35">35 mmÂ²</option>
      <option value="50">50 mmÂ²</option>
    </select>
  </div>
  
  <div class="form-group">
    <label>Anzahl Adern</label>
    <select id="gewicht-adern">
      <option value="3">3-adrig</option>
      <option value="4">4-adrig</option>
      <option value="5" selected>5-adrig</option>
    </select>
  </div>
  
  <div class="form-group">
    <label>KabellÃ¤nge (m)</label>
    <input type="number" id="gewicht-laenge" value="100" placeholder="z.B. 100">
  </div>
  
  <button class="btn" onclick="calculateCableWeight()">Berechnen</button>
  <div id="gewicht-result"></div>
</div>

<!-- Trasse -->
<div id="trasse" class="tab-content">
  <h2>ğŸ“ Kabeltrasse dimensionieren</h2>
  
  <div class="form-group">
    <label>Eingabemethode</label>
    <select id="trasse-methode" onchange="updateTrasseFields()">
      <option value="manuell">Manuell (Anzahl Ã— Durchmesser)</option>
      <option value="auswahl">Kabel aus Liste wÃ¤hlen</option>
    </select>
  </div>
  
  <div id="trasse-manuell-fields">
    <div class="form-group">
      <label>Anzahl der Kabel</label>
      <input type="number" id="trasse-anzahl" placeholder="z.B. 12">
    </div>
    
    <div class="form-group">
      <label>Mittlerer Kabeldurchmesser (mm)</label>
      <input type="number" id="trasse-durchmesser" placeholder="z.B. 15">
    </div>
  </div>
  
  <div id="trasse-auswahl-fields" style="display:none;">
    <div id="kabel-liste">
      <div class="kabel-eintrag" style="display:flex;gap:10px;margin-bottom:10px;">
        <select class="kabel-typ" style="flex:2">
          <option value="9.5">NYM-J 3Ã—1,5 (Ã˜9,5)</option>
          <option value="11">NYM-J 3Ã—2,5 (Ã˜11)</option>
          <option value="11">NYM-J 5Ã—1,5 (Ã˜11)</option>
          <option value="13">NYM-J 5Ã—2,5 (Ã˜13)</option>
          <option value="15">NYM-J 5Ã—4 (Ã˜15)</option>
          <option value="17">NYM-J 5Ã—6 (Ã˜17)</option>
          <option value="20">NYM-J 5Ã—10 (Ã˜20)</option>
          <option value="24">NYM-J 5Ã—16 (Ã˜24)</option>
          <option value="14">NYY-J 5Ã—1,5 (Ã˜14)</option>
          <option value="16">NYY-J 5Ã—2,5 (Ã˜16)</option>
          <option value="20">NYY-J 5Ã—6 (Ã˜20)</option>
          <option value="24">NYY-J 5Ã—10 (Ã˜24)</option>
          <option value="28">NYY-J 5Ã—16 (Ã˜28)</option>
          <option value="33">NYY-J 5Ã—25 (Ã˜33)</option>
          <option value="6">Cat.6 (Ã˜6)</option>
          <option value="7">Cat.7 (Ã˜7)</option>
        </select>
        <input type="number" class="kabel-menge" placeholder="Anzahl" style="flex:1" value="1">
      </div>
    </div>
    <button type="button" class="btn" style="margin-bottom:15px;background:#6b7280;" onclick="addKabelZeile()">+ Kabel hinzufÃ¼gen</button>
  </div>
  
  <div class="form-group">
    <label>Maximaler FÃ¼llgrad (%)</label>
    <select id="trasse-fuellgrad">
      <option value="35">35% (optimal, viel Reserve)</option>
      <option value="40" selected>40% (empfohlen)</option>
      <option value="50">50% (Standard)</option>
      <option value="60">60% (Maximum)</option>
    </select>
  </div>
  
  <button class="btn" onclick="calculateTray()">Berechnen</button>
  <div id="trasse-result"></div>
  
  <div class="info-box">
    <h4>ğŸ“Œ Standard-Trassenbreiten (mm)</h4>
    <p>50, 75, 100, 150, 200, 300, 400, 500, 600</p>
    <p style="margin-top:8px"><strong>Tipp:</strong> FÃ¼llgrad max. 40-50% fÃ¼r WÃ¤rmeabfuhr und Nachbelegung!</p>
  </div>
</div>
</div>
